# Session Wrap-Up: Mahjong Vibes

**Date**: 2026-01-17
**Duration**: ~1.5 hours

## Accomplished

### Terminology Rename (Chi/Peng/Gang/Hu)
- Renamed all calling actions to authentic Mahjong terms:
  - Chow ‚Üí Chi (ÂêÉ)
  - Pung ‚Üí Peng (Á¢∞)
  - Kong ‚Üí Gang (Êù†)
  - Win ‚Üí Hu (ËÉ°)
- Updated UI labels (buttons, previous action, winner screen)
- Updated game log messages
- Updated settings modal with Chinese characters
- Updated keyboard shortcut defaults: H for Hu, G for Gang
- Updated `mahjong-fujian-rules.md` documentation
- Internal code unchanged (only UI labels)

### Error Boundaries
- Created 4 error boundary files using Next.js `error.tsx` convention:
  - `app/src/app/error.tsx` - Generic errors
  - `app/src/app/global-error.tsx` - Root layout crashes
  - `app/src/app/game/[code]/error.tsx` - Game-specific
  - `app/src/app/room/[code]/error.tsx` - Room-specific
- Features: friendly UI, "Try Again" + "Return Home" buttons, dev-only error details
- Tested and verified working

### Golden Dragon Feature (Documented, Not Implemented)
- Designed new +100 special bonus for using 3 Golds as Peng (not wildcards)
- Documented full specification in `FUTURE_FEATURES.md`:
  - Removes Three Golds auto-win (player chooses)
  - Golden Pair only with exactly 2 Golds
  - No bonus stacking (highest only)
  - Win scenarios table with all edge cases
- Tabled for future implementation

## Decisions Made

1. **Error boundary approach**: Used Next.js `error.tsx` convention instead of custom React Error Boundary - cleaner, built-in support
2. **Golden Dragon rules**: Only highest special bonus applies (no stacking), Golden Pair disabled when holding 3 Golds
3. **Keyboard defaults**: H for Hu and G for Gang make more sense than W and K

## Git Status
- Branch: `main`
- Uncommitted: Only work logs (intentional)
- All features committed and pushed

## Next Session

**Priority items remaining:**
1. **Reconnection handling** (üî¥ Hard) - Detect Firebase drops, auto-rejoin
2. **Golden Dragon implementation** (üü° Medium) - Spec is ready
3. **Bonus phase animation delays** (üü° Medium) - Slow down game start sequence

**Start with**: Reconnection handling or Golden Dragon (depending on time available)

## Commits This Session
```
5623e66 docs: Update changelog and roadmap for error boundaries
17c19cc feat: Add error boundaries for crash recovery
4f48e2d docs: Add full Golden Dragon specification to roadmap
a54ef8f docs: Update changelog and add Golden Dragon to roadmap
e49af87 feat: Update keyboard shortcuts defaults and add Chinese characters
774f776 docs: Update game log and rules to use authentic Mahjong terminology
78c2731 feat: Rename calling actions to authentic Mahjong terms
```
